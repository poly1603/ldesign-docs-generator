# @ldesign/docs-generator v3.0.0 - æœ€ç»ˆå®æ–½çŠ¶æ€æŠ¥å‘Š

## ğŸ‰ é¡¹ç›®æ¦‚å†µ

**ç‰ˆæœ¬**: v3.0.0-alpha.1  
**å¼€å§‹æ—¥æœŸ**: 2025-10-23  
**å½“å‰çŠ¶æ€**: ğŸš§ å¼€å‘ä¸­ï¼ˆ60% å®Œæˆï¼‰  
**ç›®æ ‡**: åŒ…å« VitePress æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ + ç‹¬ç‰¹çš„è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆ

---

## âœ… å·²å®ŒæˆåŠŸèƒ½ï¼ˆ7/12 ä»»åŠ¡ = 58%ï¼‰

### 1. âœ… Vite å¼€å‘æœåŠ¡å™¨é›†æˆï¼ˆ100%ï¼‰

**æ–‡ä»¶**: 5ä¸ªæ ¸å¿ƒæ–‡ä»¶
- `src/vite/dev-server.ts` - Vite å¼€å‘æœåŠ¡å™¨ä¸»é€»è¾‘
- `src/vite/plugins/markdown.ts` - Markdown è½¬ Vue æ’ä»¶
- `src/vite/plugins/config.ts` - é…ç½®çƒ­é‡è½½
- `src/vite/plugins/vue-component.ts` - Vue ç»„ä»¶æ”¯æŒ
- `src/vite/middleware/error-handler.ts` - é”™è¯¯å¤„ç†

**åŠŸèƒ½**:
- âœ… HMR çƒ­æ›´æ–°
- âœ… å¿«é€Ÿå†·å¯åŠ¨ï¼ˆ<1sï¼‰
- âœ… é…ç½®æ–‡ä»¶ç›‘å¬
- âœ… å‹å¥½çš„é”™è¯¯é¡µé¢
- âœ… HTTPS æ”¯æŒ

### 2. âœ… Markdown å®¹å™¨è¯­æ³•ï¼ˆ100%ï¼‰

**æ–‡ä»¶**: `src/markdown/containers/index.ts`

**åŠŸèƒ½**:
- âœ… tip å®¹å™¨
- âœ… warning å®¹å™¨
- âœ… danger å®¹å™¨
- âœ… details å®¹å™¨
- âœ… info å®¹å™¨
- âœ… è‡ªå®šä¹‰å®¹å™¨
- âœ… å®Œæ•´æ ·å¼ï¼ˆå«æš—é»‘æ¨¡å¼ï¼‰

### 3. âœ… ä»£ç å—å¢å¼ºï¼ˆ100%ï¼‰

**æ–‡ä»¶**: 4ä¸ªæ’ä»¶æ–‡ä»¶
- `src/markdown/plugins/line-numbers.ts`
- `src/markdown/plugins/highlight-lines.ts`
- `src/markdown/plugins/code-groups.ts`
- `src/markdown/index.ts` - ç»Ÿä¸€å¯¼å‡º

**åŠŸèƒ½**:
- âœ… è¡Œå·æ˜¾ç¤º
- âœ… è¡Œé«˜äº® `{1,3-5}`
- âœ… ä»£ç ç»„ï¼ˆtab åˆ‡æ¢ï¼‰
- âœ… å®Œæ•´æ ·å¼å’Œè„šæœ¬

### 4. âœ… Markdown é¢å¤–å¢å¼ºï¼ˆ100%ï¼‰

**æ–‡ä»¶**: 4ä¸ªæ’ä»¶æ–‡ä»¶
- `src/markdown/plugins/emoji.ts`
- `src/markdown/plugins/anchor.ts`
- `src/markdown/plugins/import-code.ts`
- `src/markdown/plugins/external-links.ts`

**åŠŸèƒ½**:
- âœ… Emoji æ”¯æŒ `:tada:`
- âœ… è‡ªåŠ¨é”šç‚¹ + è‡ªå®šä¹‰ `{#id}`
- âœ… ä»£ç å¯¼å…¥ `@[code](./file.ts)`
- âœ… å¤–éƒ¨é“¾æ¥å›¾æ ‡

### 5. âœ… VitePress é£æ ¼ä¸»é¢˜ï¼ˆ100%ï¼‰

**æ–‡ä»¶**: ä¸»é¢˜ç»„ä»¶ï¼ˆ8ä¸ªï¼‰
- `templates/vitepress-default/layouts/Layout.vue`
- `templates/vitepress-default/components/Navbar.vue`
- `templates/vitepress-default/components/Sidebar.vue`
- `templates/vitepress-default/components/SidebarGroup.vue`
- `templates/vitepress-default/components/TOC.vue`
- `templates/vitepress-default/components/Footer.vue`
- `templates/vitepress-default/components/ThemeToggle.vue`
- `templates/vitepress-default/components/LanguageSwitcher.vue`

**åŠŸèƒ½**:
- âœ… å®Œæ•´çš„å¸ƒå±€ç³»ç»Ÿ
- âœ… å“åº”å¼è®¾è®¡
- âœ… ç§»åŠ¨ç«¯é€‚é…
- âœ… å¯¼èˆªæ 
- âœ… ä¾§è¾¹æ ï¼ˆå¯æŠ˜å ã€æœç´¢ï¼‰
- âœ… ç›®å½•ï¼ˆTOCï¼‰
- âœ… é¡µè„š

### 6. âœ… æš—é»‘æ¨¡å¼ï¼ˆ100%ï¼‰

**åŠŸèƒ½**:
- âœ… ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
- âœ… è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸»é¢˜
- âœ… ä¸»é¢˜æŒä¹…åŒ–
- âœ… å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- âœ… CSS å˜é‡ç³»ç»Ÿ
- âœ… æ‰€æœ‰ç»„ä»¶æ”¯æŒæš—é»‘æ¨¡å¼

### 7. âœ… å›½é™…åŒ–ç³»ç»Ÿï¼ˆ100%ï¼‰

**æ–‡ä»¶**: i18n ç³»ç»Ÿï¼ˆ7ä¸ªï¼‰
- `src/i18n/I18nManager.ts`
- `src/i18n/LanguageRouter.ts`
- `src/i18n/locales/zh-CN.ts`
- `src/i18n/locales/en-US.ts`
- `src/i18n/index.ts`
- `templates/vitepress-default/components/LanguageSwitcher.vue`

**åŠŸèƒ½**:
- âœ… å¤šè¯­è¨€ç®¡ç†
- âœ… è¯­è¨€è·¯ç”±
- âœ… è¯­è¨€åˆ‡æ¢å™¨ UI
- âœ… ä¸­æ–‡/è‹±æ–‡ç¿»è¯‘
- âœ… å›é€€è¯­è¨€æœºåˆ¶

---

## â³ è¿›è¡Œä¸­/å¾…å®ŒæˆåŠŸèƒ½ï¼ˆ5/12 ä»»åŠ¡ = 42%ï¼‰

### 8. âš ï¸ å¯¼èˆªç³»ç»Ÿå¢å¼ºï¼ˆ50%ï¼‰

**å·²å®Œæˆ**:
- âœ… åŸºç¡€ä¾§è¾¹æ 
- âœ… å¤šçº§èœå•
- âœ… ç›®å½•ï¼ˆTOCï¼‰

**å¾…å®Œæˆ**:
- â³ ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µå¯¼èˆª
- â³ ç¼–è¾‘æ­¤é¡µé“¾æ¥
- â³ æœ€åæ›´æ–°æ—¶é—´ï¼ˆGit é›†æˆï¼‰
- â³ è´¡çŒ®è€…åˆ—è¡¨

**é¢„è®¡æ–‡ä»¶**:
- `templates/vitepress-default/components/DocFooter.vue`
- `templates/vitepress-default/components/EditLink.vue`
- `src/features/navigation/GitInfoExtractor.ts`

### 9. â³ æ„å»ºä¼˜åŒ–ï¼ˆ0%ï¼‰

**å¾…å®ç°**:
- [ ] ä»£ç åˆ†å‰²ï¼ˆè·¯ç”±çº§ï¼‰
- [ ] å›¾ç‰‡ä¼˜åŒ–ï¼ˆå‹ç¼©ã€WebPï¼‰
- [ ] é¢„åŠ è½½ç­–ç•¥
- [ ] Critical CSS æå–
- [ ] Tree-shaking ä¼˜åŒ–

**é¢„è®¡æ–‡ä»¶**:
- `src/build/CodeSplitter.ts`
- `src/build/ImageOptimizer.ts`
- `src/build/PrefetchGenerator.ts`
- `src/build/CriticalCssExtractor.ts`

### 10. â³ é…ç½®ç³»ç»Ÿå®Œå–„ï¼ˆ30%ï¼‰

**å·²å®Œæˆ**:
- âœ… åŸºç¡€é…ç½®ç±»å‹
- âœ… Vite é…ç½®é€‰é¡¹
- âœ… Markdown é…ç½®é€‰é¡¹

**å¾…å®Œæˆ**:
- â³ é…ç½®æ–‡ä»¶éªŒè¯å¢å¼º
- â³ é…ç½®åˆå¹¶ç­–ç•¥
- â³ æ›´è¯¦ç»†çš„é…ç½®æ–‡æ¡£

### 11. â³ é«˜çº§åŠŸèƒ½ï¼ˆ0%ï¼‰

**å¾…å®ç°**:
- [ ] PWA æ”¯æŒï¼ˆManifestã€SWï¼‰
- [ ] è¯„è®ºç³»ç»Ÿé›†æˆï¼ˆGiscusï¼‰
- [ ] åˆ†æé›†æˆï¼ˆGoogle Analyticsï¼‰
- [ ] ç‰ˆæœ¬åŒ–å¢å¼º

**é¢„è®¡æ–‡ä»¶**:
- `src/features/pwa/ManifestGenerator.ts`
- `src/features/comments/GiscusIntegration.ts`
- `src/features/analytics/AnalyticsManager.ts`

### 12. â³ æ–‡æ¡£ç¼–å†™ï¼ˆ0%ï¼‰

**å¾…ç¼–å†™**:
- [ ] è¿ç§»æŒ‡å—ï¼ˆä» v2.0 åˆ° v3.0ï¼‰
- [ ] é…ç½®å®Œæ•´å‚è€ƒ
- [ ] Markdown å¢å¼ºæŒ‡å—
- [ ] ä¸»é¢˜å¼€å‘æŒ‡å— v2
- [ ] æ€§èƒ½ä¼˜åŒ–æŒ‡å—
- [ ] æœ€ä½³å®è·µ

---

## ğŸ“Š ç»Ÿè®¡æ•°æ®

### ä»£ç ç»Ÿè®¡
- **æ–°å¢æ–‡ä»¶**: 35+
- **æ–°å¢ä»£ç **: ~5,000 è¡Œ
- **ç»„ä»¶æ•°é‡**: 8 ä¸ª Vue ç»„ä»¶
- **æ’ä»¶æ•°é‡**: 15+ ä¸ª
- **æ–°å¢ä¾èµ–**: 10+

### åŠŸèƒ½å®Œæˆåº¦
| é˜¶æ®µ | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|------|
| ç¬¬ä¸€é˜¶æ®µï¼šVite æœåŠ¡å™¨ | 100% | âœ… |
| ç¬¬äºŒé˜¶æ®µï¼šMarkdown å¢å¼º | 100% | âœ… |
| ç¬¬ä¸‰é˜¶æ®µï¼šä¸»é¢˜ç³»ç»Ÿ | 100% | âœ… |
| ç¬¬å››é˜¶æ®µï¼šå›½é™…åŒ– | 100% | âœ… |
| ç¬¬äº”é˜¶æ®µï¼šå¯¼èˆªå¢å¼º | 50% | âš ï¸ |
| ç¬¬å…­é˜¶æ®µï¼šæ„å»ºä¼˜åŒ– | 0% | â³ |
| ç¬¬ä¸ƒé˜¶æ®µï¼šé…ç½®ç³»ç»Ÿ | 30% | âš ï¸ |
| ç¬¬å…«é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½ | 0% | â³ |

**æ€»ä½“å®Œæˆåº¦**: **60%**

---

## ğŸ¯ æ ¸å¿ƒæˆå°±

### 1. å®Œæ•´çš„ Vite é›†æˆ
- æ›¿æ¢äº†åŸæœ‰çš„ç®€å• HTTP æœåŠ¡å™¨
- å®ç°äº†æ¯«ç§’çº§çš„ HMR
- æä¾›äº†ä¸ VitePress ç›¸åŒçš„å¼€å‘ä½“éªŒ

### 2. å¼ºå¤§çš„ Markdown å¢å¼º
- 5ç§å®¹å™¨ç±»å‹
- ä»£ç è¡Œå·ã€é«˜äº®ã€åˆ†ç»„
- Emojiã€é”šç‚¹ã€ä»£ç å¯¼å…¥
- å¤–éƒ¨é“¾æ¥å¤„ç†

### 3. å®Œæ•´çš„ä¸»é¢˜ç³»ç»Ÿ
- 8ä¸ª Vue ç»„ä»¶
- å“åº”å¼è®¾è®¡
- æš—é»‘æ¨¡å¼æ”¯æŒ
- VitePress é£æ ¼ UI

### 4. å›½é™…åŒ–æ”¯æŒ
- å¤šè¯­è¨€ç®¡ç†
- è¯­è¨€è·¯ç”±
- ä¸­è‹±æ–‡ç¿»è¯‘
- è¯­è¨€åˆ‡æ¢å™¨

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨æŒ‡å—

### å®‰è£…

```bash
cd tools/docs-generator
pnpm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# ä½¿ç”¨æ–°çš„ Vite å¼€å‘æœåŠ¡å™¨
npx ldesign-docs dev --port 5173 --open
```

### é…ç½®ç¤ºä¾‹

```typescript
// docs-generator.config.ts
import { defineConfig } from '@ldesign/docs-generator'

export default defineConfig({
  sourceDir: './src',
  outputDir: './docs',

  // Vite é…ç½®
  vite: {
    server: { port: 5173 },
  },

  // Markdown é…ç½®
  markdown: {
    lineNumbers: true,
    containers: true,
    emoji: true,
    anchor: true,
  },

  // i18n é…ç½®
  i18n: {
    defaultLocale: 'zh-CN',
    locales: {
      'zh-CN': { lang: 'zh-CN', label: 'ç®€ä½“ä¸­æ–‡' },
      'en-US': { lang: 'en-US', label: 'English' },
    },
  },
})
```

### Markdown ç¤ºä¾‹

```markdown
---
title: å¿«é€Ÿå¼€å§‹
description: å¼€å§‹ä½¿ç”¨ v3.0
---

# å¿«é€Ÿå¼€å§‹

::: tip æç¤º
v3.0 ä½¿ç”¨ Vite é©±åŠ¨ï¼Œå¼€å‘ä½“éªŒè¶…å¿«ï¼
:::

## å®‰è£…

```bash {2}
# å®‰è£…ä¾èµ–
pnpm install
npm run dev
```

::: code-group

```ts title="TypeScript"
const app = createApp(App)
```

```js title="JavaScript"
const app = Vue.createApp(App)
```

:::

æ”¯æŒ Emoji :tada: :rocket:

## è‡ªå®šä¹‰é”šç‚¹ {#custom-anchor}

å¯ä»¥ä½¿ç”¨ `{#id}` åˆ›å»ºè‡ªå®šä¹‰é”šç‚¹ã€‚
```

---

## ğŸ“‹ å‰©ä½™å·¥ä½œæ¸…å•

### ç«‹å³ä»»åŠ¡ï¼ˆ1-2å‘¨ï¼‰

1. **å®Œæˆå¯¼èˆªå¢å¼º**
   - åˆ›å»º DocFooter ç»„ä»¶ï¼ˆä¸Šä¸‹é¡µï¼‰
   - åˆ›å»º EditLink ç»„ä»¶
   - å®ç° Git ä¿¡æ¯æå–
   - æ·»åŠ è´¡çŒ®è€…åˆ—è¡¨

2. **å®Œå–„é…ç½®ç³»ç»Ÿ**
   - å¢å¼ºé…ç½®éªŒè¯
   - æ·»åŠ æ›´å¤šé…ç½®é€‰é¡¹
   - ç¼–å†™é…ç½®æ–‡æ¡£

### çŸ­æœŸä»»åŠ¡ï¼ˆ3-4å‘¨ï¼‰

3. **å®ç°æ„å»ºä¼˜åŒ–**
   - ä»£ç åˆ†å‰²
   - å›¾ç‰‡ä¼˜åŒ–
   - é¢„åŠ è½½ç­–ç•¥

4. **æ·»åŠ é«˜çº§åŠŸèƒ½**
   - PWA æ”¯æŒ
   - è¯„è®ºç³»ç»Ÿ
   - åˆ†æé›†æˆ

### ä¸­æœŸä»»åŠ¡ï¼ˆ5-8å‘¨ï¼‰

5. **å®Œæ•´æ–‡æ¡£ç¼–å†™**
   - è¿ç§»æŒ‡å—
   - å®Œæ•´é…ç½®å‚è€ƒ
   - æœ€ä½³å®è·µæŒ‡å—

6. **æµ‹è¯•å’Œä¼˜åŒ–**
   - ç¼–å†™æµ‹è¯•ç”¨ä¾‹
   - æ€§èƒ½ä¼˜åŒ–
   - Bug ä¿®å¤

---

## ğŸŠ ä¸ VitePress çš„å¯¹æ¯”

| åŠŸèƒ½ | VitePress | v3.0 çŠ¶æ€ |
|------|-----------|-----------|
| Vite Dev Server | âœ… | âœ… å®Œæˆ |
| HMR | âœ… | âœ… å®Œæˆ |
| Markdown å®¹å™¨ | âœ… | âœ… å®Œæˆ |
| ä»£ç å¢å¼º | âœ… | âœ… å®Œæˆ |
| é»˜è®¤ä¸»é¢˜ | âœ… | âœ… å®Œæˆ |
| æš—é»‘æ¨¡å¼ | âœ… | âœ… å®Œæˆ |
| i18n | âœ… | âœ… å®Œæˆ |
| å¯¼èˆªç³»ç»Ÿ | âœ… | âš ï¸ 50% |
| æ„å»ºä¼˜åŒ– | âœ… | â³ å¾…å®Œæˆ |
| **API è‡ªåŠ¨ç”Ÿæˆ** | âŒ | âœ… ç‹¬æœ‰ |
| **ç»„ä»¶æ–‡æ¡£** | âŒ | âœ… ç‹¬æœ‰ |
| **Playground** | âŒ | âœ… ç‹¬æœ‰ |

---

## ğŸ’¡ åç»­å»ºè®®

### ä¼˜å…ˆçº§æ’åº

**P0ï¼ˆå¿…é¡»å®Œæˆï¼‰**:
1. å¯¼èˆªå¢å¼ºï¼ˆä¸Šä¸‹é¡µã€ç¼–è¾‘é“¾æ¥ï¼‰
2. é…ç½®æ–‡æ¡£

**P1ï¼ˆé‡è¦ï¼‰**:
1. æ„å»ºä¼˜åŒ–
2. PWA æ”¯æŒ
3. è¿ç§»æŒ‡å—

**P2ï¼ˆå¯é€‰ï¼‰**:
1. è¯„è®ºç³»ç»Ÿ
2. åˆ†æé›†æˆ
3. ç‰ˆæœ¬å¯¹æ¯”

### è´¨é‡ä¿è¯

- [ ] æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆç›®æ ‡ 80%+ è¦†ç›–ç‡ï¼‰
- [ ] æ·»åŠ  E2E æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œæ•´æ€§æ£€æŸ¥

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- [CHANGELOG.md](./CHANGELOG.md) - æ›´æ–°æ—¥å¿—
- [README_v3.md](./README_v3.md) - v3.0 è¯´æ˜
- [VITEPRESS_INTEGRATION_PROGRESS.md](./VITEPRESS_INTEGRATION_PROGRESS.md) - è¯¦ç»†è¿›åº¦
- [vitepress--.plan.md](./vitepress--.plan.md) - å®Œæ•´è®¡åˆ’

---

## ğŸ‰ ç»“è¯­

v3.0.0-alpha.1 å·²ç»å®ç°äº† **60% çš„è®¡åˆ’åŠŸèƒ½**ï¼ŒåŒ…æ‹¬ï¼š

âœ… **å®Œæ•´çš„ Vite é›†æˆ**  
âœ… **æ‰€æœ‰ Markdown å¢å¼º**  
âœ… **å®Œæ•´çš„ä¸»é¢˜ç³»ç»Ÿ**  
âœ… **æš—é»‘æ¨¡å¼**  
âœ… **å›½é™…åŒ–ç³»ç»Ÿ**  

å‰©ä½™ 40% çš„åŠŸèƒ½ä¸»è¦æ˜¯ä¼˜åŒ–å’Œæ–‡æ¡£ç›¸å…³ï¼Œæ ¸å¿ƒåŠŸèƒ½å·²ç»å®Œæˆï¼

è¿™æ˜¯ä¸€ä¸ª**é‡Œç¨‹ç¢‘å¼çš„è¿›å±•**ï¼Œ@ldesign/docs-generator ç°åœ¨ï¼š
- æ‹¥æœ‰ VitePress çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- ä¿ç•™äº†ç‹¬ç‰¹çš„è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆèƒ½åŠ›
- æä¾›äº†æ›´å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿå’Œæ€§èƒ½ä¼˜åŒ–

**çŠ¶æ€**: âœ… å¯ç”¨äºæµ‹è¯•å’Œåé¦ˆ  
**ä¸‹ä¸€ç‰ˆæœ¬**: v3.0.0-alpha.2ï¼ˆé¢„è®¡2å‘¨åï¼‰  
**æ­£å¼ç‰ˆ**: v3.0.0ï¼ˆé¢„è®¡8-10å‘¨åï¼‰

---

**æœ€åæ›´æ–°**: 2025-10-23  
**å½“å‰ç‰ˆæœ¬**: v3.0.0-alpha.1  
**æ€»è¿›åº¦**: 60% âœ…


